<script src="/assets/map/highmaps.js"></script>
<script src="/assets/map/data.js"></script>
<script src="/assets/map/world.js"></script>
<script>
    $(function () {
        $.getJSON('assets/map/places.json', function (data) {
            var living = data.living,
                vacation = data.vacation,
                mapData = Highcharts.geojson(Highcharts.maps['custom/world']);

            $('#container').highcharts('Map', {
                chart: {
                    borderWidth: 1
                },
                title: {
                    text: 'Здесь был я'
                },
                legend: {
                    enabled: false
                },
                // TODO Enable it later
                mapNavigation: {
                    enabled: true,
                    buttonOptions: {
                        verticalAlign: 'bottom'
                    }
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Countries',
                    mapData: mapData,
                    color: ['#E0E0E0'],
                    enableMouseTracking: false
                }, {
                    type: 'mapbubble',
                    mapData: mapData,
                    name: 'Проживание',
                    joinBy: ['iso-a2', 'code'],
                    data: living,
                    minSize: 20,
                    maxSize: '12%',
                    tooltip: {
                        pointFormat: '{point.city}'
                    }
                }, {
                    type: 'mapbubble',
                    color: '#00CCCC',
                    mapData: mapData,
                    name: 'Отпуск',
                    joinBy: ['iso-a2', 'code'],
                    data: vacation,
                    minSize: 10,
                    maxSize: '12%',
                    tooltip: {
                        pointFormat: '{point.city}'
                    }
                }]
            });

        });
    });
</script>